{% extends 'base.html' %}
{% block page_content %}

    <div class="tm-main-content no-pad-b">

        <section class="row tm-item-preview">
            <div class="col-md-6 col-sm-12 mb-md-0 mb-5">
                <img src="{{ profile.picture.url }}" width="470" height="470" alt="Image"
                     class="img-fluid tm-img-center-sm">
            </div>
            <div class="col-md-6 col-sm-12">
                <h2 class="tm-blue-text tm-margin-b-p">{{ profile.first_name }} {{ profile.last_name }}</h2>
                {% if profile.description %}
                    <h5>Description: {{ profile.description }}</h5>
                {% endif %}
                <h5>Email: {{ profile.email }}</h5>
                <p class="mt-2">Total Vehicles: {{ total_vehicle_images_count }}</p>
                <p class="mt-2">Total Likes: {{ total_likes_count }}</p>
                <p class="mt-2">Total Dislikes: {{ total_dislikes_count }}</p>

                {% if is_owner %}
                    <a href="{% url 'edit profile' profile.pk %}" class="btn btn-primary">Edit</a>
                    <a href="{% url 'delete profile' %}" class="btn btn-danger">Delete</a>
                {% endif %}
            </div>
        </section>

        <div class="tm-gallery no-pad-b">
            <div class="row">
                {% for vehicle in vehicles %}

                    <figure class="column-3 col-md-4 col-sm-6 col-12 tm-gallery-item mb-5">

                        <a href="{% url 'vehicle details' vehicle.pk %}">
                            <div class="tm-gallery-item-overlay">
                                <img src="{{ vehicle.photo.url }}" alt="Image" class="img-fluid tm-img-center">
                            </div>
                            <p>Manufacturer: {{ vehicle.manufacturer }}</p>
                            <p>Model: {{ vehicle.model }}</p>
                            <p>{{ vehicle.age }} years old</p>

                            {% if is_owner %}
                                <a href="{% url 'edit vehicle' vehicle.pk %}" class="btn btn-primary">Edit</a>
                                <a href="{% url 'delete vehicle' vehicle.pk %}"
                                   class="btn btn-danger">Delete</a>


                            {% endif %}
                    </a>


                    </figure>

                {% endfor %}
            </div>
        </div>

    </div>

{% endblock %}
